use std::path::PathBuf;

use clap::Parser;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#[derive(Debug, Parser)]
pub struct Cli {
    #[arg(long)]
    pub schemas_dir: Option<PathBuf>,

    #[command(subcommand)]
    pub command: Command,
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#[derive(Debug, clap::Subcommand)]
pub enum Command {
    Lint(Lint),
    Codegen(Codegen),
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/// Validate the schemas
#[derive(Debug, clap::Args)]
pub struct Lint {}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/// Generate code from schemas
#[derive(Debug, clap::Args)]
pub struct Codegen {
    #[arg()]
    pub language: CodegenLang,
}

#[derive(Debug, Clone, Copy, clap::ValueEnum)]
pub enum CodegenLang {
    FlatbuffersSchema,
    RustDtos,
    RustSerde,
    RustSerdeFlatbuffers,
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
