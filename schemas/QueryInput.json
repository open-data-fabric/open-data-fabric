{
    "$id": "http://open-data-fabric.github.com/schemas/QueryInput",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "description": "Sent as part of the execute query requst to describe the input",
    "type": "object",
    "additionalProperties": false,
    "required": [
        "datasetID",
        "vocab",
        "dataPaths",
        "schemaFile",
        "explicitWatermarks"
    ],
    "properties": {
        "datasetID": {
            "type": "string",
            "format": "dataset-id",
            "description": "Unique identifier of the dataset"
        },
        "vocab": {
            "$ref": "/schemas/DatasetVocabulary"
        },
        "dataInterval": {
            "$ref": "/schemas/OffsetInterval",
            "description": "Data that went into this transaction"
        },
        "dataPaths": {
            "type": "array",
            "description": "TODO: This will be removed when coordinator will be slicing data for the engine",
            "items": {
                "type": "string",
                "format": "path"
            }
        },
        "schemaFile": {
            "type": "string",
            "format": "path",
            "description": "TODO: replace with actual DDL or Parquet schema"
        },
        "explicitWatermarks": {
            "type": "array",
            "items": {
                "$ref": "/schemas/Watermark"
            }
        }
    }
}