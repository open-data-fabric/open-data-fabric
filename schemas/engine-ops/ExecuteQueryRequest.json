{
    "$id": "http://open-data-fabric.github.com/schemas/ExecuteQueryRequest",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "description": "Sent by the coordinator to an engine to perform the next step of data transformation",
    "type": "object",
    "additionalProperties": false,
    "required": [
        "datasetId",
        "datasetAlias",
        "systemTime",
        "nextOffset",
        "vocab",
        "transform",
        "inputs",
        "newCheckpointPath",
        "outDataPath"
    ],
    "properties": {
        "datasetId": {
            "type": "string",
            "format": "dataset-id",
            "description": "Unique identifier of the output dataset."
        },
        "datasetAlias": {
            "type": "string",
            "format": "dataset-alias",
            "description": "Alias of the output dataset, for logging purposes only."
        },
        "systemTime": {
            "type": "string",
            "format": "date-time",
            "description": "System time to use for new records."
        },
        "nextOffset": {
            "type": "integer",
            "format": "uint64",
            "description": "Starting offset to use for new records."
        },
        "vocab": {
            "$ref": "/schemas/DatasetVocabulary"
        },
        "transform": {
            "$ref": "/schemas/Transform",
            "description": "Transformation that will be applied to produce new data."
        },
        "inputs": {
            "type": "array",
            "description": "Defines the input data.",
            "items": {
                "$ref": "/schemas/ExecuteQueryInput"
            }
        },
        "prevCheckpointPath": {
            "type": "string",
            "format": "path",
            "description": "TODO: This will be removed when coordinator will be speaking to engines purely through Arrow."
        },
        "newCheckpointPath": {
            "type": "string",
            "format": "path",
            "description": "TODO: This will be removed when coordinator will be speaking to engines purely through Arrow."
        },
        "outDataPath": {
            "type": "string",
            "format": "path",
            "description": "TODO: This will be removed when coordinator will be speaking to engines purely through Arrow."
        }
    }
}