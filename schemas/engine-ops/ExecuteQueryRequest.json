{
    "$id": "http://open-data-fabric.github.com/schemas/ExecuteQueryRequest",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "description": "Sent by the coordinator to an engine to perform the next step of data transformation",
    "type": "object",
    "additionalProperties": false,
    "required": [
        "datasetID",
        "datasetName",
        "systemTime",
        "offset",
        "vocab",
        "transform",
        "inputs",
        "newCheckpointPath",
        "outDataPath"
    ],
    "properties": {
        "datasetID": {
            "type": "string",
            "format": "dataset-id",
            "description": "Unique identifier of the output dataset"
        },
        "datasetName": {
            "type": "string",
            "format": "dataset-name",
            "description": "Alias of the output dataset"
        },
        "systemTime": {
            "type": "string",
            "format": "date-time",
            "description": "System time to use for new records"
        },
        "offset": {
            "type": "integer",
            "format": "int64",
            "description": "Starting offset to use for new records"
        },
        "vocab": {
            "$ref": "/schemas/DatasetVocabulary"
        },
        "transform": {
            "$ref": "/schemas/Transform",
            "description": "Transformation that will be applied to produce new data"
        },
        "inputs": {
            "type": "array",
            "description": "Defines the input data",
            "items": {
                "$ref": "/schemas/ExecuteQueryInput"
            }
        },
        "prevCheckpointPath": {
            "type": "string",
            "format": "path",
            "description": "TODO: This is temporary"
        },
        "newCheckpointPath": {
            "type": "string",
            "format": "path",
            "description": "TODO: This is temporary"
        },
        "outDataPath": {
            "type": "string",
            "format": "path",
            "description": "TODO: This is temporary"
        }
    }
}